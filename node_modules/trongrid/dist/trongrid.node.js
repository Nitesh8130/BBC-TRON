module.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=9)}([function(t,e){t.exports=require("@babel/runtime/helpers/classCallCheck")},function(t,e){t.exports=require("@babel/runtime/helpers/createClass")},function(t,e){t.exports=require("@babel/runtime/helpers/possibleConstructorReturn")},function(t,e){t.exports=require("@babel/runtime/helpers/getPrototypeOf")},function(t,e){t.exports=require("@babel/runtime/helpers/inherits")},function(t,e){t.exports=require("@babel/runtime/regenerator")},function(t,e){t.exports={isValidAddress:function(t){return!(!t||34!==t.length||/[^a-zA-Z0-9]/.test(t))},isValidEventName:function(t){return!(!t||/[^a-zA-Z0-9_]+/.test(t))},isValidTransactionId:function(t){return/^[a-z0-9]{64}/.test(t)},isValidBlockNumber:function(t){return!/[^0-9]/.test(t.toString())}}},function(t,e){t.exports=require("querystring")},function(t,e){t.exports=require("@babel/runtime/helpers/asyncToGenerator")},function(t,e,n){"use strict";n.r(e);var i,r,o,s,a,u,l,c=n(0),d=n.n(c),h=n(1),f=n.n(h),v=n(2),p=n.n(v),m=n(3),g=n.n(m),b=n(4),x=n.n(b),y=function t(e){if(d()(this,t),!(e&&e instanceof A))throw new Error("Expected instance of TronGrid");this.tronGrid=e,this.tronWeb=e.tronWeb,this.injectPromise=this.tronWeb.utils.promiseInjector(this),this.apiNode=this.tronWeb.eventServer,this.utils=this.tronWeb.utils},_=function(t){function e(t){var n;return d()(this,e),n=p()(this,g()(e).call(this,t)),i=n.utils,n}return x()(e,t),f()(e,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i.isFunction(e)&&(n=e,e={}),n?this.tronWeb.isAddress(t)?(this.tronGrid.experimental&&(e.experimental=this.tronGrid.experimental),34!==t.length&&(t=this.tronWeb.address.fromHex(t)),console.log("v1/accounts/".concat(t),e),void this.apiNode.request("v1/accounts/".concat(t),e,"get").then(function(t){e.only_data_and_fingerprint?n(null,t.data,t.meta.fingerprint):n(null,t)}).catch(function(t){return n(t)})):n("Invalid address provided"):this.injectPromise(this.get,t,e)}},{key:"getTransactions",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i.isFunction(e)&&(n=e,e={}),n?this.tronWeb.isAddress(t)?(this.tronGrid.experimental&&(e.experimental=this.tronGrid.experimental),34!==t.length&&(t=this.tronWeb.address.fromHex(t)),void this.apiNode.request("v1/accounts/".concat(t,"/transactions"),e,"get").then(function(t){e.only_data_and_fingerprint?n(null,t.data,t.meta.fingerprint):n(null,t)}).catch(function(t){return n(t)})):n("Invalid address provided"):this.injectPromise(this.getTransactions,t,e)}}]),e}(y),k=function(t){function e(t){var n;return d()(this,e),n=p()(this,g()(e).call(this,t)),r=n.utils,n}return x()(e,t),f()(e,[{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r.isFunction(e)&&(n=e,e={}),t&&(r.isString(t)||r.isInteger(t))?n?(this.tronGrid.experimental&&(e.experimental=this.tronGrid.experimental),void this.apiNode.request("v1/assets/".concat(t),e,"get").then(function(t){e.only_data_and_fingerprint?n(null,t.data,t.meta.fingerprint):n(null,t)}).catch(function(t){return n(t)})):this.injectPromise(this.get,t,e):n("Invalid identifier provided")}},{key:"getList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r.isFunction(e)&&(n=e,e={}),t&&r.isString(t)?e.limit<=0?n("Limit must be greater than 0"):e.limit>200?n("Max limit is 200"):n?(this.tronGrid.experimental&&(e.experimental=this.tronGrid.experimental),void this.apiNode.request("v1/assets/".concat(t,"/list"),e,"get").then(function(t){e.only_data_and_fingerprint?n(null,t.data,t.meta.fingerprint):n(null,t)}).catch(function(t){return n(t)})):this.injectPromise(this.getList,t,e):n("Invalid identifier provided")}},{key:"getAll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.isFunction(t)&&(e=t,t={}),t.limit<=0?e("Limit must be greater than 0"):t.limit>200?e("Max limit is 200"):e?(this.tronGrid.experimental&&(t.experimental=this.tronGrid.experimental),void this.apiNode.request("v1/assets",t,"get").then(function(n){t.only_data_and_fingerprint?e(null,n.data,n.meta.fingerprint):e(null,n)}).catch(function(t){return e(t)})):this.injectPromise(this.getAll,t)}}]),e}(y),W=n(6),q=function(t){function e(t){var n;return d()(this,e),n=p()(this,g()(e).call(this,t)),o=n.utils,n}return x()(e,t),f()(e,[{key:"getEvents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"latest",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.isFunction(e)&&(n=e,e={}),n?this.tronWeb.eventServer?"latest"===t||W.isValidBlockNumber(t)?this.tronWeb.eventServer.request("v1/blocks/".concat(t,"/events")).then(function(t){e.only_data_and_fingerprint?n(null,t.data,t.meta.fingerprint):n(null,t)}).catch(function(t){return n(t)}):n("Invalid block number provided"):n("No event server configured"):this.injectPromise(this.getEvents,t,e)}}]),e}(y),j=n(7),N=n.n(j),T=function(t){function e(t){var n;return d()(this,e),n=p()(this,g()(e).call(this,t)),s=n.utils,n}return x()(e,t),f()(e,[{key:"getEvents",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Object.assign({fromTimestamp:0,eventName:!1,blockNumber:!1,size:20},e),r=i.onlyConfirmed,o=i.onlyUnconfirmed,a=i.eventName,u=i.blockNumber,l=i.fromTimestamp,c=i.size,d=i.previousFingerprint,h=i.sort;if(!n)return this.injectPromise(this.getEvents,t,e);if(!this.tronWeb.eventServer)return n("No event server configured");if(!this.tronWeb.isAddress(t))return n("Invalid contract address provided");if(a&&!t)return n("Usage of event name filtering requires a contract address");if(!s.isInteger(l))return n("Invalid sinceTimestamp provided");if(!s.isInteger(c))return n("Invalid size provided");if(c>200&&(console.warn("Defaulting to maximum accepted size: 200"),c=200),u&&!a)return n("Usage of block number filtering requires an event name");[].push(this.tronWeb.address.fromHex(t));var f={};return r&&(f.onlyConfirmed=r),o&&!r&&(f.onlyUnconfirmed=o),o&&!r&&(f.onlyUnconfirmed=o),a&&(f.eventName=a),u&&(f.blockNumber=u),l&&(f.fromTimestamp=l),c&&(f.size=c),d&&(f.previousFingerprint=d),h&&(f.sort=h),this.tronWeb.eventServer.request("v1/contracts/".concat(t,"/events?").concat(N.a.stringify(f))).then(function(t){e.only_data_and_fingerprint?n(null,t.data,t.meta.fingerprint):n(null,t)}).catch(function(t){return n(t)})}}]),e}(y),I=n(6),E=function(t){function e(t){var n;return d()(this,e),n=p()(this,g()(e).call(this,t)),a=n.utils,n}return x()(e,t),f()(e,[{key:"getEvents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.isFunction(e)&&(n=e,e={}),n?this.tronWeb.eventServer?I.isValidTransactionId(t)?this.tronWeb.eventServer.request("v1/transactions/".concat(t,"/events")).then(function(t){e.only_data_and_fingerprint?n(null,t.data,t.meta.fingerprint):n(null,t)}).catch(function(t){return n(t)}):n("Invalid transaction id provided"):n("No event server configured"):this.injectPromise(this.getEvents,t,e)}}]),e}(y),G=n(5),P=n.n(G),S=n(8),w=n.n(S),F=function(t){function e(t){var n;return d()(this,e),n=p()(this,g()(e).call(this,t)),u=n.utils,l=n.tronGrid.account,n}return x()(e,t),f()(e,[{key:"setExperimental",value:function(t){this.tronGrid.setExperimental(t)}},{key:"getTransactions",value:function(){var t=w()(P.a.mark(function t(){var e,n,i,r,o,s,a=arguments;return P.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:this.tronWeb.defaultAddress.hex,n=a.length>1&&void 0!==a[1]?a[1]:"all",i=a.length>2&&void 0!==a[2]?a[2]:20,r=a.length>3&&void 0!==a[3]?a[3]:0,o=a.length>4&&void 0!==a[4]&&a[4],u.isFunction(r)&&(o=r),u.isFunction(i)&&(o=i,i=20),u.isFunction(n)&&(o=n,n="all"),u.isFunction(e)&&(o=e,e=this.tronWeb.defaultAddress.hex),s={limit:i,only_data_and_fingerprint:!0},"to"===n?s.only_to=!0:"from"===n&&(s.only_from=!0),t.abrupt("return",l.getTransactions(e,s,o));case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),e}(y);n.d(e,"default",function(){return A});var A=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(d()(this,t),!e)throw new Error("Expected instance of TronWeb");this.tronWeb=e,this.utils=e.utils,this.account=new _(this),this.asset=new k(this),this.block=new q(this),this.contract=new T(this),this.transaction=new E(this),this.experimental=void 0}return f()(t,[{key:"setExperimental",value:function(t){this.experimental=t}},{key:"pluginInterface",value:function(t){t.experimental&&t.experimental;var e=new F(this);return e.setExperimental(t.experimental),{requires:"^2.2.4",components:{trx:{getTransactionsRelated:e.getTransactions}}}}}]),t}()}]).default;
//# sourceMappingURL=trongrid.node.js.map